---
layout: post
title: 每日札记
date: 2023-09-25 12:04:00
feature: 
summary: 这里记录了我每天要做、没做、想做的一些事情，主要包括以下几个方面：1. 科研；2.琐事；3.其他等三个方面的事情。记录的主要目的是方便自己查看，二是还可以随时分享给我的老师、朋友，让身边人知道我在做什么，三个目的是，复盘和回顾自己的生活、科研等经历，最后，争取捕捉天马行空的想法，不让ta悄然消失。
categories: Recording
---

## 科研

### 今日基本任务
- [ ] 基本解决末端执行器实时切割角度问题，根据牙眼在马铃薯坐标系（物体坐标系）下的位置，确定刀具的旋转角度。这是我之前编写的一个刀具旋转算法代码，初步实现时可以参考。
- [ ] 解决mask掩码为 0 时，报错的问题。

```py
# 参考代码，控制道具旋转角度
budangle = my_point.budDock
print('bud0:', budangle)
# for i, point in enumerate(budangle): # For per point
plus_num = []  ## 计算在 1、3 象限点牙眼的个数
Sub_num = []  ## 计算在 2、4 象限点牙眼的个数
for i, point in enumerate(budangle):
    if point[0] * point[1] > 0:
        plus_num.append(1)
        # i = i + 2
    elif point[0] * point[1] < 0:
        Sub_num.append(-1)
        # i = i + 2
if len(plus_num) > len(Sub_num):
    P_cut = Process(target=CutterToangle, args=(45,))  # 顺时针
    P_cut.start()
    print('顺时针0：', 45)
elif len(plus_num) < len(Sub_num):
    P_cut = Process(target=CutterToangle, args=(-45,))  # 逆转
    P_cut.start()
    print('逆时针0：', -45)
elif len(plus_num) == len(Sub_num):
    P_cut = Process(target=CutterToangle, args=(0,))  # 不转
    P_cut.start()
    print('不转0：', 0)
else:
    continue
```

### 目前问题
- [ ] 计算马铃薯朝向的时候，有时候会出现马铃薯太靠边界，导致无法使用PCA算法计算马铃薯朝向。
- [ ] 马铃薯和牙眼识别效果不佳，有时候识别不了牙眼信息，或者错误识别马铃薯，或者错误识别牙眼信息。
- [ ] 另外，mask（掩码）为 0 也会报错。当试验台上没有识别到任何物体时，无法得出mask结果，程序会报错。
- [ ] 已经可以使用普通摄像头，提取马铃薯上表面或者下表面的牙眼坐标位置。但是，还没有将识别到的牙眼坐标转换利用起来，得到末端执行器的实时切割角度。

### 已解决问题

- [x] 末端刀具旋转角度时，可以区分正负角度。根据驱动器本身特性，设置方向控制参数。
- [x] 摄像头可以实时读取马铃薯信息。最开始因为算法本身问题，在读取视频流的时候，会出现重复读取摄像头地址的问题，导致读取失败。现在更换了一个算法，重新编写了相关程序，解决问题。（后期，应该在去仔细阅读具体实现过程。）
- [x] 末端刀具初始角度问题解决。末端执行器初期无法根据马铃薯的位置，实时调整末端刀具的角度。这是一个很大的弊端。因为，不同初始位置的马铃薯，移动到机械臂底部，具有不同的状态。如果刀具的初始位置，不是随着马铃薯的朝向变化，而是按照机械臂的世界坐标设定的，那么该坐标系下旋转的任何角度，都将没有意义。会出现误切，错切，乱切现象。


### 优化方案

- 使用支持向量机算法，实时预测切割角度。

1. 收集大量牙眼真实坐标位置，并带有最有标签值。这个需要自己去制作数据集。
2. 训练一个SVM模型。
3. 实时输入每次检测的牙眼坐标值。
4. 得出刀具的实时旋转结果。


## 进化方案

- 编写一个端到端的神经网络算法，可以实现：
- [x] 直接输出刀具的初始角度
- [x] 直接输出刀具的切割角度
- [x] 显示马铃薯和牙眼的实时位置。
- **前两个是关键，后面一个是衬托。**


## 琐事
- [ ] 购买马铃薯，尽量带有较多牙眼。
- [ ] 查看加州大学相关导师的研究方向，尽早选定一名国外导师。
- [ ] 学习雅思课程。（现在已经购买了雅思王陆的听力书，了解到学而贵的刘洪波掌门人是屠雅领头人。后期会购买相关书籍，学习相关课程。另外还有剑桥雅思真题，也需要购买，主要是学相关课程后测试自己的英语水平。）
- [ ] 每天吃饭的时候观看morden family美剧，一是训练口语能力，二是报错单词量的输入
- [ ] 学而贵上面的单词可以适当记忆。比如resemble给我的映像就很深。
- [ ] 适当看一看相关的备考心得。

## 其他

- [ ] 晚上给妈妈打电话
- [ ] 晚上给女朋友打电话
- [ ] 赵老师作业，阅读与自己专业相关的英文文献，每周星期一上午汇报。
- [ ] Dave老师的英语作业，没周星期三晚上课堂汇报。主要是Oral English，锻炼自己的口语能力。
- [ ] 适当锻炼身体，跑步、打台球等娱乐活动。
